{% extends "membership/base.html" %}
  {% block title %}
    <title>Daftar | kei-partner.com</title>
  {% endblock %}
  {% block content %}
  {% include "membership/header.html" %}
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">

                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            <a class="navbar-brand" href="#">KEI-Partner</a>
            </div>
        
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="navbar-collapse">
            <ul class="nav navbar-nav">
                <li><a href="#"><span class="glyphicon glyphicon-home"></span> <span class="sr-only">(current)</span></a></li>
                <li><a href="#">Store</a></li>
                <li><a href="#">Blog</a></li>
                <li class="active"><a href="#">Member Area</a></li>
                <li><a href="#">Business Oportunity</a></li>
            </ul>
            {% include "storefront/wishlist_header.html" %}
            {% include "storefront/cart_header.html" %}  
            </div><!-- /.navbar-collapse -->
        </div><!-- /.container-fluid -->
    </nav>

    <div class="container container-form container-bg">
      <h3 class="title" style="margin:15px">Selamat Datang di Kei-Partner.<br>
        Silahkan isi form berikut ini untuk membuat akun.</h3>
    <div class="hidden-xs col-sm-1 col-lg-2"></div>
    <div class="col-xs-12 col-sm-10 col-lg-8" style="padding: 0">
      <div class="col-xs-12 card-bottom card-bottom-form">
        <form method="POST">
            {% csrf_token %}
            {% if form.errors %}
                {% for field in form %}
                    {% for error in field.errors %}
                        <div class="alert alert-danger">
                            <strong>{{ error|escape }}</strong>
                        </div>
                    {% endfor %}
                {% endfor %}
                {% for error in form.non_field_errors %}
                    <div class="alert alert-danger">
                        <strong>{{ error|escape }}</strong>
                    </div>
                {% endfor %}
            {% endif %}
            <div>
            </div>
          <fieldset id="membership-set" style="width: 100%;">
              <legend>Data Membership :</legend>
              <div class="col-xs-12">
                <div><p style="font-size:8pt;margin-top:13px;text-align:left">Kode Sponsor *(kosongkan jika tidak ada)</p>  
                  {{ form.sponsor_code }}
                </div>
              </div>
          </fieldset>

          <fieldset id="account-set" style="width: 100%;">
              <legend>Data Akun :</legend>

              <div class="row" style="margin: 0">
                <div class="col-xs-12 col-sm-6">
                  <div><p style="font-size:8pt;margin-bottom:3px;text-align:left">Username *(untuk login, maks 20 karakter tanpa spasi)<i class="hot"style="font-size:150%;font-weight:normal;margin:0"> *</i></p>  
                    {{ form.username }}  
                  </div>
                </div>
                <div class="col-xs-12 col-sm-6">
                  <div><p style="font-size:8pt;margin-bottom:3px;text-align:left">Email valid *(untuk konfimasi akun)<i class="hot"style="font-size:150%;font-weight:normal;margin:0"> *</i></p>  
                    {{ form.email }}  
                  </div>
                </div>
              </div>

              <div class="row" style="margin: 0">
                  <div class="col-xs-12 col-sm-6">
                    <div><p style="font-size:8pt;margin-bottom:3px;text-align:left">Nama Lengkap *(sesuai dengan ktp)<i class="hot"style="font-size:150%;font-weight:normal;margin:0"> *</i></p>  
                      <input   style="width:100%" type="text" placeholder="Masukan Nama Lengkap" name="real-name"></div>
                  </div>
                  <div class="col-xs-12 col-sm-6">
                      <div><p style="font-size:8pt;margin-bottom:3px;text-align:left">Nomor HP/ Whatsapp <i class="hot"style="font-size:150%;font-weight:normal;margin:0"> *</i></p>  
                        <input   style="width:100%" type="text" placeholder="Contoh : +628129999999 / 0812999999" name="phone"></div>
                  </div>
               </div>

              <div class="row" style="margin: 0">
                <div class="col-xs-12 col-sm-6">
                  <div><p style="font-size:8pt;margin-bottom:3px;text-align:left">Kata Sandi (min 6 karakter)<i class="hot"style="font-size:150%;font-weight:normal;margin:0"> *</i></p>
                    {{ form.password }}  
                  </div>
                </div>
                <div class="col-xs-12 col-sm-6">
                  <div><p style="font-size:8pt;margin-bottom:3px;text-align:left">Masukan ulang kata sandi<i class="hot"style="font-size:150%;font-weight:normal;margin:0"> *</i></p>
                    <input   style="width:100%" type="password" placeholder="Ulangi Kata Sandi" name="psw2"></div>
                </div>
              </div>

  
          </fieldset>

          <fieldset id="address-set" style="width: 100%;">
            <legend>Data Alamat :</legend>

            <div class="row" style="margin: 0;">
                <div class="col-xs-12 col-sm-6" style="padding:0 15px;display:block;text-align:left;z-index:3000">
                  <p style="font-size:8pt;margin-bottom:3px;text-align:left">Provinsi :<i class="hot"style="font-size:150%;font-weight:normal;margin:0"> *</i></p>
                  {{ form.provinsi }}
                </div>

                <div class="col-xs-12 col-sm-6" style="padding:0 15px;display:block;text-align:left;z-index:3000">
                  <p style="font-size:8pt;margin-bottom:3px;text-align:left">Kota/ Kabupaten :<i class="hot"style="font-size:150%;font-weight:normal;margin:0"> *</i></p>
                  
                  <select name="kota" style="background-color:#f1f1f1;" onClick=getKecamatan() id="id_kota">
                    <option value="..."> </option>
                  </select>
                </div>
            </div>

            <div class="row" style="margin: 0;">
                <div class="col-xs-12 col-sm-6" style="padding:0 15px;display:block;text-align:left;z-index:3000">
                  <p style="font-size:8pt;margin-bottom:3px;text-align:left">Kecamatan/ Subdistrik :<i class="hot"style="font-size:150%;font-weight:normal;margin:0"> *</i></p>
                  
                  <select name="kecamatan"  style="background-color:#f1f1f1"  onClick=getKelurahan()  id="id_kecamatan">
                    <option value="..."> </option>         
                  </select>
                </div>

                <div class="col-xs-12 col-sm-6" style="padding:0 15px;display:block;text-align:left;z-index:3000">
                  <p style="font-size:8pt;margin-bottom:3px;text-align:left">Kelurahan/ Desa :<i class="hot"style="font-size:150%;font-weight:normal;margin:0"> *</i></p>
                  
                  <select  name="kelurahan" style="background-color:#f1f1f1" id="id_kelurahan">
                    <option value="..."> </option>                  
                  </select>
                </div>
            </div>
        
            <div class="row" style="margin: 0;">
                <div class="col-xs-12" style="text-align: left">
                  <div><p style="font-size:8pt;margin-bottom:3px;text-align:left">Alamat Lengkap *(sesuai dengan KTP)<i class="hot"style="font-size:150%;font-weight:normal;margin:0"> *</i></p>
                  </div>
                  {{ form.home_address }}
                </div>
            </div>
        </fieldset>

           <div class="col-xs-12" style="margin:20px 0; display: flex; justify-content: center;"> 
             <button class="daftar effect4" style="width:auto; min-width: 120px; margin: 0 15px">Batal</button>
             <button class="daftar-cool effect4" style="width:auto; min-width: 120px; margin: 0 15px" type="submit">Kirim</button></div>
         </form></div></div>
    <div class="hidden-xs col-sm-1 col-lg-2"></div></div>

{% include "membership/footer.html" %}
{% include "membership/script.html" %}
<script>
  var memberSelect = document.getElementById('id_member_type');
  memberSelect.onchange = function(){
    selected = memberSelect.options[memberSelect.selectedIndex].text.toLowerCase();
    rows = document.getElementById('member_type_info').rows;
    for(x=0; x<rows.length; x+=1){
      rows[x].classList.add('hidden');
    }
    document.getElementById(selected+'_info').classList.remove('hidden');
  };
</script>
<script>
  function getKota(){
    var selected_provinsi='';
    var myselect = document.getElementById("id_provinsi")
    selected_provinsi=myselect.options[myselect.selectedIndex].text;
    $.ajaxSetup({
      headers : {
        'CSRFToken' : "{% csrf_token %}",
      }
    });
    $.ajax({url: '/wilayah/kota/'+ selected_provinsi +'/', success: function(result){
      var options = '';
      for(i=0; i<result['results'].length; i++){
        options += "<option value='"+result['results'][i]['value']+"'>"+result['results'][i]['nama']+"</option>";
        console.log(result['results'][i]['nama']);
      }
      document.getElementById('id_kota').innerHTML=options;
    }});
  }
</script>
<script>
  function getKecamatan(){
    var selected_kota='';
    var myselect = document.getElementById("id_kota")
    selected_kota=myselect.options[myselect.selectedIndex].value;
    $.ajaxSetup({
      headers : {
        'CSRFToken' : "{% csrf_token %}",
      }
    });
    $.ajax({url: '/wilayah/kecamatan/'+ selected_kota +'/', success: function(result){
      var options = '';
      for(i=0; i<result['results'].length; i++){
        options += "<option value='"+result['results'][i]['value']+"'>"+result['results'][i]['nama']+"</option>";
        console.log(result['results'][i]['nama']);
      }
      document.getElementById('id_kecamatan').innerHTML=options;
    }});
  }
</script>
<script>
  function getKelurahan(){
    var selected_kecamatan='';
    var myselect = document.getElementById("id_kecamatan")
    selected_kecamatan=myselect.options[myselect.selectedIndex].value;
    $.ajaxSetup({
      headers : {
        'CSRFToken' : "{% csrf_token %}",
      }
    });
    $.ajax({url: '/wilayah/kelurahan/'+ selected_kecamatan +'/', success: function(result){
      var options = '';
      for(i=0; i<result['results'].length; i++){
        options += "<option value='"+result['results'][i]['value']+"'>"+result['results'][i]['nama']+"</option>";
        console.log(result['results'][i]['nama']);
      }
      document.getElementById('id_kelurahan').innerHTML=options;
    }});
  }
</script>

{% endblock %}
